<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cadastro - PlanSocial</title>
  <link rel="stylesheet" href="../css/cadastro.css" />
</head>
<body>

  <nav class="menu">
    <div class="logo">PlanSocial</div>
    <ul class="menu-links">
      <li><a href="#">Início</a></li>
      <li class="dropdown">
        <a href="#">Projetos</a>
        <ul class="submenu">
          <li><a href="#">Educação</a></li>
          <li><a href="#">Saúde</a></li>
        </ul>
      </li>
      <li><a href="#">Contato</a></li>
    </ul>
    <div class="hamburger">&#9776;</div>
  </nav>

  <h1>Cadastro de Voluntário</h1>
  <form id="cadastroForm">
    <fieldset>
      <legend>Informações Pessoais</legend>
      <label for="nome">Nome Completo:</label>
      <input type="text" id="nome" name="nome" required minlength="5" placeholder="Digite seu nome completo" />
      <label for="email">E-mail:</label>
      <input type="email" id="email" name="email" required placeholder="exemplo@email.com" />
      <label for="cpf">CPF:</label>
      <input type="text" id="cpf" name="cpf" required placeholder="000.000.000-00" maxlength="14" />
      <label for="telefone">Telefone:</label>
      <input type="text" id="telefone" name="telefone" required placeholder="(00) 00000-0000" maxlength="15" />
      <label for="data_nasc">Data de Nascimento:</label>
      <input type="date" id="data_nasc" name="data_nasc" required />
    </fieldset>

    <fieldset>
      <legend>Endereço</legend>
      <label for="endereco">Endereço:</label>
      <input type="text" id="endereco" name="endereco" required placeholder="Rua, número e complemento" />
      <label for="cep">CEP:</label>
      <input type="text" id="cep" name="cep" required placeholder="00000-000" maxlength="9" />
      <label for="cidade">Cidade:</label>
      <input type="text" id="cidade" name="cidade" required />
      <label for="estado">Estado:</label>
      <input type="text" id="estado" name="estado" required maxlength="2" placeholder="SP" />
    </fieldset>

    <button type="submit">Enviar Cadastro</button>
  </form>

  <div class="voltar-container">
    <a href="index.html" class="voltar-btn">← Voltar para a página inicial</a>
  </div>

  <div class="alert sucesso" style="display:none;">Cadastro realizado com sucesso!</div>
  <div id="toast" class="toast">Mensagem enviada!</div>

  <script>
    const cpf = document.getElementById("cpf");
    const telefone = document.getElementById("telefone");
    const cep = document.getElementById("cep");
    const hamburger = document.querySelector(".hamburger");
    const menuLinks = document.querySelector(".menu-links");
    const form = document.getElementById("cadastroForm");
    const alertBox = document.querySelector(".alert.sucesso");

    cpf.addEventListener("input", () => {
      let valor = cpf.value.replace(/\D/g, "");
      if (valor.length <= 11) {
        valor = valor.replace(/(\d{3})(\d)/, "$1.$2");
        valor = valor.replace(/(\d{3})(\d)/, "$1.$2");
        valor = valor.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
      }
      cpf.value = valor;
    });

    telefone.addEventListener("input", () => {
      let valor = telefone.value.replace(/\D/g, "");
      valor = valor.replace(/^(\d{2})(\d)/g, "($1) $2");
      valor = valor.replace(/(\d{5})(\d{4})$/, "$1-$2");
      telefone.value = valor;
    });

    cep.addEventListener("input", () => {
      let valor = cep.value.replace(/\D/g, "");
      valor = valor.replace(/^(\d{5})(\d)/, "$1-$2");
      cep.value = valor;
    });

    hamburger.addEventListener("click", () => {
      menuLinks.style.display = menuLinks.style.display === "flex" ? "none" : "flex";
    });

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      alertBox.style.display = "block";
      showToast("Cadastro enviado com sucesso!");
    });

    function showToast(msg) {
      const toast = document.getElementById("toast");
      toast.textContent = msg;
      toast.style.display = "block";
      setTimeout(() => toast.style.display = "none", 3000);
    }
  </script>
</body>
</html>
